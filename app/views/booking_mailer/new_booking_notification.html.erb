<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Booking Request</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="font-sans bg-gray-100">
    <div class="max-w-2xl mx-auto bg-white shadow-lg">
      <!-- Header -->
      <div class="bg-blue-600 text-white p-6 text-center rounded-t-lg">
        <h1 class="text-2xl font-bold">ðŸŽ‰ New Booking Request!</h1>
        <p class="mt-2">You have received a new booking for your service</p>
      </div>

      <!-- Content -->
      <div class="p-6">
        <p class="text-gray-700 mb-4">Hello <strong><%= @service_provider.full_name %></strong>,</p>
        
        <p class="text-gray-700 mb-6">Great news! You have received a new booking request for your <strong><%= @service.name %></strong> service.</p>

        <!-- Booking Details Card -->
        <div class="bg-gray-50 border-l-4 border-blue-600 p-6 rounded-lg mb-6">
          <h3 class="text-lg font-semibold text-blue-600 mb-4">ðŸ“‹ Booking Details</h3>
          
          <div class="space-y-3">
            <div class="flex justify-between items-center py-2 border-b border-gray-200">
              <span class="font-medium text-gray-600">Service:</span>
              <span class="text-gray-800"><%= @service.name %></span>
            </div>
            
            <div class="flex justify-between items-center py-2 border-b border-gray-200">
              <span class="font-medium text-gray-600">Category:</span>
              <span class="text-gray-800"><%= @service.category %> â€º <%= @service.subcategory %></span>
            </div>
            
            <div class="flex justify-between items-center py-2 border-b border-gray-200">
              <span class="font-medium text-gray-600">Client Name:</span>
              <span class="text-gray-800"><%= @client.full_name %></span>
            </div>
            
            <div class="flex justify-between items-center py-2 border-b border-gray-200">
              <span class="font-medium text-gray-600">Client Email:</span>
              <span class="text-gray-800"><%= @client.email %></span>
            </div>
            
            <div class="flex justify-between items-center py-2 border-b border-gray-200">
              <span class="font-medium text-gray-600">Date:</span>
              <span class="text-gray-800"><%= @booking.date.strftime('%A, %B %d, %Y') %></span>
            </div>
            
            <div class="flex justify-between items-center py-2 border-b border-gray-200">
              <span class="font-medium text-gray-600">Time:</span>
              <span class="text-gray-800"><%= @booking.time %></span>
            </div>
            
            <div class="flex justify-between items-center py-2 border-b border-gray-200">
              <span class="font-medium text-gray-600">Address:</span>
              <span class="text-gray-800"><%= @booking.address %></span>
            </div>
            
            <div class="flex justify-between items-center py-2 border-b border-gray-200">
              <span class="font-medium text-gray-600">Price:</span>
              <span class="text-gray-800 font-semibold">Rs. <%= number_with_delimiter(@booking.price.to_i) %></span>
            </div>
            
            <div class="flex justify-between items-center py-2 border-b border-gray-200">
              <span class="font-medium text-gray-600">Status:</span>
              <span class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium"><%= @booking.status.upcase %></span>
            </div>
            
            <% if @booking.notes.present? %>
            <div class="flex justify-between items-start py-2">
              <span class="font-medium text-gray-600">Client Notes:</span>
              <span class="text-gray-800 text-right max-w-xs"><%= @booking.notes %></span>
            </div>
            <% end %>
          </div>
        </div>

        <!-- Next Steps -->
        <div class="mb-6">
          <p class="font-semibold text-gray-800 mb-3">What's next?</p>
          <ul class="list-disc list-inside space-y-2 text-gray-700">
            <li>Review the booking details above</li>
            <li>Contact the client if you need any clarification</li>
            <li>Confirm or manage the booking through your dashboard</li>
            <li>Prepare for the scheduled service</li>
          </ul>
        </div>

        <p class="text-gray-700 mb-2">Thank you for being part of our service marketplace!</p>
        
        <p class="text-gray-700">
          Best regards,<br>
          <strong class="text-gray-800">The Service Marketplace Team</strong>
        </p>
      </div>

      <!-- Footer -->
      <div class="bg-gray-800 text-white p-4 text-center text-sm rounded-b-lg">
        <p class="mb-1">This is an automated notification. Please do not reply to this email.</p>
        <p>Â© <%= Date.current.year %> Service Marketplace. All rights reserved.</p>
      </div>
    </div>
  </body>
</html>