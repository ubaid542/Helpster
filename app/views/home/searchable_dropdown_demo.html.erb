<div class="container mx-auto px-4 py-8">
  <div class="max-w-4xl mx-auto">
    <h1 class="text-3xl font-bold text-gray-900 mb-8">Searchable Dropdown Demo</h1>
    
    <div class="bg-white rounded-lg shadow-md p-6 mb-8">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">How to Use</h2>
      <p class="text-gray-600 mb-4">
        Simply add the <code class="bg-gray-100 px-2 py-1 rounded">searchable-dropdown</code> class to any select element.
        The JavaScript will automatically add a search input above the dropdown.
      </p>
      
      <div class="bg-gray-50 p-4 rounded-lg">
        <h3 class="font-medium text-gray-800 mb-2">ERB Example:</h3>
        <pre class="text-sm text-gray-700 overflow-x-auto"><code>&lt;%= form.collection_select :service_id, @services, :id, :name, 
    { prompt: "Select a service" }, 
    { class: "searchable-dropdown" } %&gt;</code></pre>
      </div>
    </div>

    <!-- Example 1: Service Selection -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">1. Service Selection</h2>
      <p class="text-gray-600 mb-4">Select from available services:</p>
      
      <%= form_with url: "#", local: true, class: "space-y-4" do |form| %>
        <div class="form-group">
          <%= form.label :service_id, "Choose a Service", class: "block text-sm font-medium text-gray-700 mb-2" %>
          <%= form.collection_select :service_id, @services, :id, :name, 
              { prompt: "Select a service" }, 
              { class: "searchable-dropdown" } %>
        </div>
      <% end %>
    </div>

    <!-- Example 2: Service Provider Selection -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">2. Service Provider Selection</h2>
      <p class="text-gray-600 mb-4">Select from service providers:</p>
      
      <%= form_with url: "#", local: true, class: "space-y-4" do |form| %>
        <div class="form-group">
          <%= form.label :service_provider_id, "Choose a Service Provider", class: "block text-sm font-medium text-gray-700 mb-2" %>
          <%= form.collection_select :service_provider_id, @service_providers, :id, :name, 
              { prompt: "Select a service provider" }, 
              { class: "searchable-dropdown" } %>
        </div>
      <% end %>
    </div>

    <!-- Example 3: Category Selection -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">3. Category Selection</h2>
      <p class="text-gray-600 mb-4">Select from service categories:</p>
      
      <%= form_with url: "#", local: true, class: "space-y-4" do |form| %>
        <div class="form-group">
          <%= form.label :category, "Choose a Category", class: "block text-sm font-medium text-gray-700 mb-2" %>
          <%= form.select :category, 
              options_for_select(@categories.map { |cat| [cat, cat] }, prompt: "Select a category"), 
              { prompt: "Select a category" }, 
              { class: "searchable-dropdown" } %>
        </div>
      <% end %>
    </div>

    <!-- Example 4: Location Selection -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">4. Location Selection</h2>
      <p class="text-gray-600 mb-4">Select from available locations:</p>
      
      <%= form_with url: "#", local: true, class: "space-y-4" do |form| %>
        <div class="form-group">
          <%= form.label :location, "Choose a Location", class: "block text-sm font-medium text-gray-700 mb-2" %>
          <%= form.select :location, 
              options_for_select(@locations.map { |loc| [loc, loc] }, prompt: "Select a location"), 
              { prompt: "Select a location" }, 
              { class: "searchable-dropdown" } %>
        </div>
      <% end %>
    </div>

    <!-- Example 5: Multiple Dropdowns in a Form -->
    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <h2 class="text-xl font-semibold text-gray-800 mb-4">5. Multiple Searchable Dropdowns</h2>
      <p class="text-gray-600 mb-4">A form with multiple searchable dropdowns:</p>
      
      <%= form_with url: "#", local: true, class: "space-y-4" do |form| %>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="form-group">
            <%= form.label :service_id, "Service", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <%= form.collection_select :service_id, @services.limit(10), :id, :name, 
                { prompt: "Select a service" }, 
                { class: "searchable-dropdown" } %>
          </div>
          
          <div class="form-group">
            <%= form.label :category, "Category", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <%= form.select :category, 
                options_for_select(@categories.map { |cat| [cat, cat] }, prompt: "Select a category"), 
                { prompt: "Select a category" }, 
                { class: "searchable-dropdown" } %>
          </div>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="form-group">
            <%= form.label :location, "Location", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <%= form.select :location, 
                options_for_select(@locations.map { |loc| [loc, loc] }, prompt: "Select a location"), 
                { prompt: "Select a location" }, 
                { class: "searchable-dropdown" } %>
          </div>
          
          <div class="form-group">
            <%= form.label :service_provider_id, "Provider", class: "block text-sm font-medium text-gray-700 mb-2" %>
            <%= form.collection_select :service_provider_id, @service_providers.limit(10), :id, :name, 
                { prompt: "Select a provider" }, 
                { class: "searchable-dropdown" } %>
          </div>
        </div>
      <% end %>
    </div>

    <!-- Features Section -->
    <div class="bg-blue-50 rounded-lg p-6">
      <h2 class="text-xl font-semibold text-blue-800 mb-4">Features</h2>
      <ul class="space-y-2 text-blue-700">
        <li class="flex items-center">
          <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
          </svg>
          Real-time search filtering
        </li>
        <li class="flex items-center">
          <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
          </svg>
          Works with any select element
        </li>
        <li class="flex items-center">
          <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
          </svg>
          Responsive design
        </li>
        <li class="flex items-center">
          <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
          </svg>
          Dark mode support
        </li>
        <li class="flex items-center">
          <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
          </svg>
          Turbo-compatible (works with SPA navigation)
        </li>
      </ul>
    </div>
  </div>
</div>